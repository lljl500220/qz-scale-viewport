<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ± Scale Viewport Demo</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body, html {
        height: 100vh;
        overflow-x: hidden;
    }
    
    #wrapper {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        position: relative;
        background-color: #f0f0f0;
    }
    
    #content {
        width: 750px;
        transform-origin: top center;
        overflow-y: auto;
        /* é»˜è®¤å€¼ï¼Œä¼šè¢«JavaScriptåŠ¨æ€è®¾ç½® */
        transform: scale(0.52);
        height: calc(100vh / 0.52);
        background-color: white;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    #value {
        width: 100%;
        height: 100px;
        position: sticky;
        top: 0;
        background-color: red;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        font-weight: bold;
    }
    
    #value2 {
        height: 2000px;
        width: 100%;
        background: linear-gradient(45deg, blue, lightblue);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        font-weight: bold;
        flex-direction: column;
        gap: 20px;
    }
    
    #value3 {
        position: fixed;
        bottom: 0;
        width: 100%;
        height: 100px;
        background-color: green;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    
    #value3:hover {
        background-color: darkgreen;
    }
    
    /* å®æ—¶æŒ‡æ ‡æ˜¾ç¤º */
    .metrics {
        position: fixed;
        top: 10px;
        right: 10px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 10px;
        border-radius: 5px;
        font-size: 12px;
        font-family: monospace;
        z-index: 1000;
    }
</style>
<body>
    <div id="wrapper">
        <div id="content">
            <div id="value">ğŸ± é¡¶éƒ¨å›ºå®šåŒºåŸŸ (Sticky Header)</div>
            <div id="value2">
                <div>å¯æ»šåŠ¨å†…å®¹åŒºåŸŸ (Scrollable Content)</div>
                <div style="margin-top: 200px;">ğŸ“± æµ‹è¯•æ»šåŠ¨æ•ˆæœ</div>
                <div style="margin-top: 300px;">ğŸ¯ PCç«¯390pxï¼Œç§»åŠ¨ç«¯100vw</div>
                <div style="margin-top: 400px;">âœ¨ å®Œç¾ç¼©æ”¾é€‚é…</div>
                <div style="margin-top: 500px;">ğŸš€ å³å°†åˆ°åº•äº†...</div>
            </div>
            <div id="value3" onclick="toggleScroll()">åº•éƒ¨å›ºå®šåŒºåŸŸ - ç‚¹å‡»æµ‹è¯•å¼¹çª—</div>
        </div>
    </div>
    
    <!-- å®æ—¶æŒ‡æ ‡æ˜¾ç¤º -->
    <div class="metrics" id="metrics">
        åŠ è½½ä¸­...
    </div>
    
    <!-- ä½¿ç”¨å°è£…åçš„ScaleViewportç±» -->
    <script src="../dist/scale-viewport.browser.js"></script>
    <script>
        // ä½¿ç”¨å°è£…åçš„ScaleViewportç±»
        const scaleViewport = createScaleViewport(
            { 
                content: document.getElementById('content'), 
                wrapper: document.getElementById('wrapper') 
            },
            {
                designWidth: 750,
                pcWidth: 390,
                mobileBreakpoint: 768,
                debug: true
            }
        );
        
        // æ›´æ–°æŒ‡æ ‡æ˜¾ç¤º
        function updateMetrics() {
            const metrics = document.getElementById('metrics');
            const scale = scaleViewport.getCurrentScale();
            const isMobile = scaleViewport.isMobile();
            
            metrics.innerHTML = `
                å±å¹•: ${window.innerWidth}px<br>
                ç±»å‹: ${isMobile ? 'ğŸ“±ç§»åŠ¨ç«¯' : 'ğŸ’»PCç«¯'}<br>
                ç¼©æ”¾: ${scale.toFixed(4)}<br>
                å®½åº¦: ${scaleViewport.getVisualWidth().toFixed(0)}px<br>
                è®¾è®¡: 750px<br>
                ç‰ˆæœ¬: å°è£…ç‰ˆ
            `;
        }
        
        // åˆå§‹æ›´æ–°å’Œç›‘å¬
        updateMetrics();
        window.addEventListener('resize', updateMetrics);
        
        // æµ‹è¯•åŠŸèƒ½
        let scrollDisabled = false;
        function toggleScroll() {
            const content = document.getElementById('content');
            if (scrollDisabled) {
                content.style.overflow = 'auto';
                document.getElementById('value3').textContent = 'åº•éƒ¨å›ºå®šåŒºåŸŸ - ç‚¹å‡»æµ‹è¯•å¼¹çª—';
                scrollDisabled = false;
            } else {
                content.style.overflow = 'hidden';
                document.getElementById('value3').textContent = 'æ»šåŠ¨å·²ç¦ç”¨ - å†æ¬¡ç‚¹å‡»æ¢å¤';
                scrollDisabled = true;
            }
        }
        
        console.log('ğŸ± å°è£…ç‰ˆScale Viewport Demo åŠ è½½å®Œæˆï¼');
    </script>
</body>
</html>