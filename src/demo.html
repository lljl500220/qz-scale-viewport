<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ± Scale Viewport Demo</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body, html {
        height: 100vh;
        overflow-x: hidden;
    }
    
    #wrapper {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        position: relative;
        background-color: #f0f0f0;
    }
    
    #content {
        width: 750px;
        transform-origin: top center;
        overflow-y: auto;
        /* é»˜è®¤å€¼ï¼Œä¼šè¢«JavaScriptåŠ¨æ€è®¾ç½® */
        transform: scale(0.52);
        height: calc(100vh / 0.52);
        background-color: white;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    #value {
        width: 100%;
        height: 100px;
        position: sticky;
        top: 0;
        background-color: red;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        font-weight: bold;
    }
    
    #value2 {
        height: 2000px;
        width: 100%;
        background: linear-gradient(45deg, blue, lightblue);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        font-weight: bold;
        flex-direction: column;
        gap: 20px;
    }
    
    #value3 {
        position: fixed;
        bottom: 0;
        width: 100%;
        height: 100px;
        background-color: green;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    
    #value3:hover {
        background-color: darkgreen;
    }
    
    /* å®æ—¶æŒ‡æ ‡æ˜¾ç¤º */
    .metrics {
        position: fixed;
        top: 10px;
        right: 10px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 10px;
        border-radius: 5px;
        font-size: 12px;
        font-family: monospace;
        z-index: 1000;
    }
</style>
<body>
    <div id="wrapper">
        <div id="content">
            <div id="value">ğŸ± é¡¶éƒ¨å›ºå®šåŒºåŸŸ (Sticky Header)</div>
            <div id="value2">
                <div>å¯æ»šåŠ¨å†…å®¹åŒºåŸŸ (Scrollable Content)</div>
                <div style="margin-top: 200px;">ğŸ“± æµ‹è¯•æ»šåŠ¨æ•ˆæœ</div>
                <div style="margin-top: 300px;">ğŸ¯ PCç«¯390pxï¼Œç§»åŠ¨ç«¯100vw</div>
                <div style="margin-top: 400px;">âœ¨ å®Œç¾ç¼©æ”¾é€‚é…</div>
                <div style="margin-top: 500px;">ğŸš€ å³å°†åˆ°åº•äº†...</div>
            </div>
            <div id="value3" onclick="toggleScroll()">åº•éƒ¨å›ºå®šåŒºåŸŸ - ç‚¹å‡»æµ‹è¯•å¼¹çª—</div>
        </div>
    </div>
    
    
    <!-- ä½¿ç”¨åŸå§‹çš„å†…è”JavaScriptä»£ç  -->
    <script>
        // ğŸ± å°å–µçš„æ™ºèƒ½ç¼©æ”¾ç³»ç»Ÿ âœ¨ (åŸå§‹å†…è”ç‰ˆæœ¬)

        function setContentScale() {
            const content = document.getElementById('content');
            const wrapper = document.getElementById('wrapper');
            
            if (!content || !wrapper) {
                console.error('ğŸ± æ‰¾ä¸åˆ°contentæˆ–wrapperå…ƒç´ ï¼');
                return;
            }
            
            const screenWidth = window.innerWidth;
            let scale;
            
            // åˆ¤æ–­æ˜¯å¦ä¸ºç§»åŠ¨ç«¯ï¼ˆ768pxä»¥ä¸‹ï¼‰
            if (screenWidth <= 768) {
                // ç§»åŠ¨ç«¯ï¼šæŒ‰å±å¹•å®½åº¦ç¼©æ”¾ï¼Œè®©750pxå®¹å™¨é“ºæ»¡å±å¹•
                scale = screenWidth / 750;
                
                // è°ƒæ•´transform-originä¸ºtop leftï¼Œé¿å…å±…ä¸­å¯¼è‡´çš„ä½ç½®é—®é¢˜
                content.style.transformOrigin = 'top left';
                content.style.position = 'absolute';
                content.style.left = '0';
                content.style.top = '0';
                
                // wrapperä¸éœ€è¦flexå±…ä¸­
                wrapper.style.display = 'block';
                wrapper.style.justifyContent = 'flex-start';
                
            } else {
                // PCç«¯ï¼šå›ºå®šç¼©æ”¾åˆ°390pxï¼Œä¿æŒå±…ä¸­
                scale = 390 / 750; // 0.52
                
                content.style.transformOrigin = 'top center';
                content.style.position = 'static';
                content.style.left = 'auto';
                content.style.top = 'auto';
                
                // wrapperä½¿ç”¨flexå±…ä¸­
                wrapper.style.display = 'flex';
                wrapper.style.justifyContent = 'center';
            }
            
            // è®¾ç½®ç¼©æ”¾å’Œé«˜åº¦ - è¿™æ˜¯å…³é”®ï¼
            content.style.transform = `scale(${scale})`;
            content.style.height = `${100 / scale}vh`;
            
            console.log(`ğŸ± å±å¹•å®½åº¦: ${screenWidth}px, ç¼©æ”¾æ¯”ä¾‹: ${scale.toFixed(4)}, å®¹å™¨è§†è§‰å®½åº¦: ${(750 * scale).toFixed(0)}px`);
            
            // æ›´æ–°æŒ‡æ ‡æ˜¾ç¤º
            updateMetrics(scale, screenWidth <= 768);
        }

        // æ›´æ–°æŒ‡æ ‡æ˜¾ç¤º
        function updateMetrics(scale, isMobile) {
            const metrics = document.getElementById('metrics');
            if (metrics) {
                metrics.innerHTML = `
                    å±å¹•: ${window.innerWidth}px<br>
                    ç±»å‹: ${isMobile ? 'ğŸ“±ç§»åŠ¨ç«¯' : 'ğŸ’»PCç«¯'}<br>
                    ç¼©æ”¾: ${scale.toFixed(4)}<br>
                    å®½åº¦: ${(750 * scale).toFixed(0)}px<br>
                    è®¾è®¡: 750px<br>
                    ç‰ˆæœ¬: å†…è”JS
                `;
            }
        }

        // é¡µé¢åŠ è½½æ—¶è®¾ç½®
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', setContentScale);
        } else {
            setContentScale();
        }

        // çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°è®¾ç½®
        window.addEventListener('resize', setContentScale);

        // æµ‹è¯•å¼¹çª—åŠŸèƒ½
        let scrollDisabled = false;
        function toggleScroll() {
            const content = document.getElementById('content');
            if (scrollDisabled) {
                content.style.overflow = 'auto';
                document.getElementById('value3').textContent = 'åº•éƒ¨å›ºå®šåŒºåŸŸ - ç‚¹å‡»æµ‹è¯•å¼¹çª—';
                scrollDisabled = false;
                console.log('ğŸ± æ¢å¤æ»šåŠ¨');
            } else {
                content.style.overflow = 'hidden';
                document.getElementById('value3').textContent = 'æ»šåŠ¨å·²ç¦ç”¨ - å†æ¬¡ç‚¹å‡»æ¢å¤';
                scrollDisabled = true;
                console.log('ğŸ± ç¦ç”¨æ»šåŠ¨');
            }
        }

        console.log('ğŸ± Scale Viewport Demo åŠ è½½å®Œæˆï¼(ä½¿ç”¨åŸå§‹å†…è”JavaScriptç‰ˆæœ¬)');
    </script>
</body>
</html>